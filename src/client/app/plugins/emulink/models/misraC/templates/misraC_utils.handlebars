{{#if template_description}}
%
%   Description: This template generates a library of MISRA-C utility functions.
%
{{/if}}/**
 * utility functions
 */
{{#if is_header_file}}#include <math.h>
#include <time.h>

typedef double D_64;
typedef unsigned char UC_8;
#define true 1
#define false 0
#define TRUE 1
#define FALSE 0
typedef int bool;{{else}}
#include "misrac_utils.h"{{/if}}

//- get today's date and time in compact format DD.MM.YYYY hh:mm
string get_todays_date(){{#if is_header_file}};{{else}} {
    time_t t = time(NULL);
    struct tm tm = *localtime(&t);
    return tm.tm_mday + "." + (tm.tm_mon + 1) + "." + (tm.tm_year + 1900) + " " + tm.tm_hour + ":" + tm.tm_min;
}{{/if}}
//- computes 10^i
double pow10(int i){{#if is_header_file}};{{else}} {
    double ans = 1;
    for (int k = 0; k < i; k++) {
        ans = (i > 0) ? ans * 10 : ans / 10;
    }
    return ans;
}{{/if}}
//- trims the fractional number to the number of digits indicated as argument
double trim(real x, int n){{#if is_header_file}};{{else}} {
    if (n = 0) { return floor(x); }
    double div = pow10(n);
    return floor(x * div) / div;
}{{/if}}
