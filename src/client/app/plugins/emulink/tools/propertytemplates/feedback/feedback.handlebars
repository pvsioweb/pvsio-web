visibility(st: State): bool ={{#each actions}}
    (LET post = {{{this}}}(st)
      IN (per_{{{this}}}(st) AND post`current_state /= st`current_state)
          IMPLIES
         ({{#each ../disp}}post`{{{this}}} /= st`{{{this}}}{{#unless @last}}
          OR {{/unless}}{{/each}}))
    {{#unless @last}}AND{{/unless}}{{/each}}
