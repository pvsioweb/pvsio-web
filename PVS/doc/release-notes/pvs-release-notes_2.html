<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Created on January 14, 2013 by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>PVS Release Notes: PVS 5.0 Release Notes</title>

<meta name="description" content="PVS Release Notes: PVS 5.0 Release Notes">
<meta name="keywords" content="PVS Release Notes: PVS 5.0 Release Notes">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="pvs-release-notes_1.html#PVS-6_002e0-Release-Notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="pvs-release-notes_3.html#PVS-4_002e2-Release-Notes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="pvs-release-notes.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="pvs-release-notes_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="pvs-release-notes_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>

<hr size="2">
<a name="PVS-5_002e0-Release-Notes"></a>
<a name="PVS-5_002e0-Release-Notes-1"></a>
<h1 class="unnumbered">PVS 5.0 Release Notes</h1>

<p>PVS 5.0 is a significant new release of PVS.  The highlights include an
SBCL port, the incorporation of the PVSio, Manip, Field, and ProofLite
packages from NASA, a new theory interpretation implementation, new
judgement forms, new support for Yices, and several bug fixes.
</p>
<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#g_t5_002e0-Installation-Notes">Installation Notes</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t5_002e0-New-Features">New Features</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#g_t5_002e0-Incompatibilities">Incompatibilities</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="g_t5_002e0-Installation-Notes"></a>
<a name="Installation-Notes-2"></a>
<h2 class="section">Installation Notes</h2>

<p>The system is installed as usual; see the download pages at
</p><table><tr><td>&nbsp;</td><td><pre class="example"><a href="http://pvs.csl.sri.com/download.shtml">http://pvs.csl.sri.com/download.shtml</a>
</pre></td></tr></table>
<p>We strongly suggest getting a pre-built Allegro version, unless you have
concerns with the Allegro runtime click-though license, in which case get
one of the pre-built CMU or SBCL Lisp images.
</p>
<p>Note that we are no longer providing PVS for Solaris or PowerPC on the
download page, as we have limited funds and the vast majority of our users
have Intel Macs or Linux machines.  If you do need either of these, let us
know at <a href="mailto:pvs-sri@csl.sri.com">pvs-sri@csl.sri.com</a>.  We will be keeping earlier versions
available for the foreseeable future.
</p>
<p>It&rsquo;s important to note that the <code>.prf</code> format has changed.  While PVS
5.0 can easily read earlier proof files, the new format will confuse
earlier versions of PVS.  Please make copies of any directories that you
want to also use earlier versions of PVS on.  This is especially helpful
when trying to repair proofs that work in earlier versions.
</p>
<hr size="6">
<a name="g_t5_002e0-New-Features"></a>
<a name="New-Features-1"></a>
<h2 class="section">New Features</h2>

<table class="menu" border="0" cellspacing="0">
<tr><td align="left" valign="top"><a href="#Available-Lisp_002fPlatforms">Available Lisp/Platforms</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#PVS-Invocation">PVS Invocation</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#PVSio-Integration">PVSio Integration</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Manip-and-Field">Manip and Field</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#ProofLite">ProofLite</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Theory-Interpretations">Theory Interpretations</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Expression-Judgements">Expression Judgements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#Yices-Enhancements">Yices Enhancements</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
<tr><td align="left" valign="top"><a href="#PVS-Libraries-Speedbar">PVS Libraries Speedbar</a></td><td>&nbsp;&nbsp;</td><td align="left" valign="top">
</td></tr>
</table>

<hr size="6">
<a name="Available-Lisp_002fPlatforms"></a>
<a name="Available-Lisp_002fPlatforms-1"></a>
<h3 class="subsection">Available Lisp/Platforms</h3>
<p>There are now 64-bit and 32-bit versions available for Intel Mac and Linux
for Allegro (version 8.2) and SBCL Common Lisp.  32-bit versions are also
available for CMU Common Lisp.
</p>
<hr size="6">
<a name="PVS-Invocation"></a>
<a name="PVS-Invocation-1"></a>
<h3 class="subsection">PVS Invocation</h3>
<p>The <code>pvs</code> shell script has been modified to support SBCL Common Lisp.
In addition, the load and eval capabilities have been simplified, where
<code>-l</code> and <code>-e</code> are for Emacs files and expressions, and <code>-L</code>
and <code>-E</code> are for Common Lisp files.  There was an earlier <code>-L</code>
flag, but it loaded the file <em>before</em> PVS initialization, which is
more difficult to use.
</p>
<hr size="6">
<a name="PVSio-Integration"></a>
<a name="PVSio-Integration-1"></a>
<h3 class="subsection">PVSio Integration</h3>
<p>C&eacute;sar Mu&ntilde;oz has provided further improvements for PVSio, which is now
more fully integrated into PVS.  PVSio provides
</p><ul>
<li>
an alternative interface to the ground evaluator, making it easier to interact
</li><li>
Several semantic attachments that facilitate programming in PVS
</li><li>
A <code>defattach</code> macro, allowing users to add their own semantic attachments
</li><li>
A <code>pvsio</code> script, allowing PVS specifications to be run as scripts
</li><li>
Adds the <code>eval</code>, <code>eval-expr</code>, and <code>eval-formula</code> rules for
use in the prover
</li></ul>
<p>PVSio now starts up without the need for loading extra library files.  The
sematic attachments are pre-installed, and the supporting theories are in
the prelude.  For more details on how to use PVSio, see the manual in
<code>doc/PVSio-2.d.pdf</code>, (but ignore the installation instructions).
</p>
<hr size="6">
<a name="Manip-and-Field"></a>
<a name="Manip-and-Field-1"></a>
<h3 class="subsection">Manip and Field</h3>
<p>The NASA Manip and Field packages have similarly been integrated, and
improved by their authors.  The Manip package provides many features,
including Emacs extensions, many new proof strategies, and a pattern
matching facility that allows reference to subterms during proof.  For
more details, see <code>doc/manip-guide.pdf</code> (but ignore the install
instructions).
</p>
<p>The Field package builds on Manip, and adds several prover commands making
it easier to reason about nonlinear formulas. See
<code>doc/extrategies.pdf</code> for details.
</p>
<hr size="6">
<a name="ProofLite"></a>
<a name="ProofLite-1"></a>
<h3 class="subsection">ProofLite</h3>
<p>C&eacute;sar Mu&ntilde;oz has also provided his ProofLite extension as part of PVS.
This allows proofs to be included directly in PVS specifications and run
from them, allowing for a literate programming style of specification.
See <code>doc/ProofLite-4.2.pdf</code> for details.
</p>
<hr size="6">
<a name="Theory-Interpretations"></a>
<a name="Theory-Interpretations-2"></a>
<h3 class="subsection">Theory Interpretations</h3>
<p>Theory interpretations have been significantly modified.  Previously a
theory declaration would generate a separate theory.  This caused all
kinds of problems, as it couldn&rsquo;t reference any declarations from the
referencing theory.  In some cases this could be handled by splitting
theories into pieces, but even this doesn&rsquo;t always work.
</p>
<p>In the new treatment, theory declarations are simply expanded in place,
with the theory declaration id prepended to the included theory
declarations.  This solves the problem with declaration references, but
introduces new issues.  First, since the expanded theory declaration may
itself have theory declarations, names have been extended to include any
number of periods, e.g., <code>th1.th2.th3.d</code>.  In general, these are only
needed to disambiguate, and even then a suffix of the full name usually
suffices.
</p>
<p>The <code>prettyprint-theory-instance</code> is no longer meaningful, simply use
<code>M-x prettyprint-expanded</code> to see the included declarations.
</p>
<hr size="6">
<a name="Expression-Judgements"></a>
<a name="Expression-Judgements-1"></a>
<h3 class="subsection">Expression Judgements</h3>
<p>A new Judgement form is available.  This is still in the experimental
stage, but we welcome any feedback.  The judgement has the form of a
subtype judgement, but with a preceding <code>FORALL</code> that gives the types
of the variables, as well as making the parsing unambiguous.  Within the
forall, any expression is allowed.  For example,
</p><table><tr><td>&nbsp;</td><td><pre class="example"> judgement forall (x: real) = x*x has_type nnreal
 f: [nnreal -&gt; real]
 foo: formula forall (y: real):
   f(f((y - 100) * (y - 100)) * f((y - 100) * (y - 100))) = 2
</pre></td></tr></table>
<p>Without the judgement, <code>foo</code> generates 2 TCCs; with the judgement,
none are generated for <code>foo</code>, just the one for the judgement itself,
which is much simpler to understand.  Note that the judgement mechanism
has to be fast, and not itself generate proof obligations, so the matches
are purely syntactic.  Thus &lsquo;(x - 1) * (-1 + x)&lsquo; will still generate a
TCC.
</p>
<hr size="6">
<a name="Yices-Enhancements"></a>
<a name="Yices-Enhancements-1"></a>
<h3 class="subsection">Yices Enhancements</h3>

<p>There are improvements to the <code>yices</code> and <code>yices-with-rewrites</code>
rules.  Note that to use these commands you must install Yices from
<a href="yices.csl.sri.com">yices.csl.sri.com</a>, and make certain the directory containing the
<code>yices</code> executable is in your <code>PATH</code> environment variable before
invoking PVS.
</p>
<hr size="6">
<a name="PVS-Libraries-Speedbar"></a>
<a name="PVS-Libraries-Speedbar-1"></a>
<h3 class="subsection">PVS Libraries Speedbar</h3>
<p>A simple Emacs speedbar extension is now available.  This makes browsing
libraries easier, as it lists all directories on the
<code>PVS_LIBRARY_PATH</code> as well as the built-in libraries in the
PVS <code>lib</code> subdirectory.  This is invoked with <code>M-x
pvs-speedbar-browser</code>, and clicking on a given library shows the
specification files within; clicking on one of them brings it up in an
Emacs buffer.  In the future we plan to include declaration lists within
the speedbar display.
</p>
<hr size="6">
<a name="g_t5_002e0-Incompatibilities"></a>
<a name="Incompatibilities-6"></a>
<h2 class="section">Incompatibilities</h2>

<p>The changes lead to some incompatibilities, primarily in the proofs.
This is due to a number of factors:
</p><ul>
<li>
A bug was fixed in the <code>lift-if</code> rule that could potentially lead to
unsoundness.  The fix means that the rule is no longer as aggressive, so
proofs may need to be repaired.  This is especially true for proofs with
sequences of <code>lift-ifs</code>.
</li><li>
Some bugs were fixed in which TCCs were missing.
</li><li>
In general, judgement processing has been improved.  Though this is almost
always better for new proofs, it does tend to cause older proofs to fail,
because the proof trees differ.
</li><li>
PVS 5.0 uses a new format for .prf files.  The reason for this is to
remove some information (such as the time the last run took) that causes
version control systems to think there is a change, making it difficult to
keep developments in sync.
</li><li>
Any reliance on NASA libraries is obviously different now that the NASA
extensions are integrated into PVS.  In practice, this has been relatively
painless.
</li><li>
In addition to adding theories from the NASA extensions, a number of
minor changes have been made to the prelude.  Two notable ones are that
<code>choose</code> no longer has a definition, and <code>singleton</code> is no
longer a conversion by default.  If you really want <code>choose</code> to be
<code>epsilon</code>, there is an axiom for that.  The <code>singleton</code>
conversion is often used unexpectedly, especially when bitvectors are
involved.  If you want it, simply add a <code>conversion+ singleton</code> where
needed.  Remember it&rsquo;s imported, so it can be placed in a theory low in
the hierarchy; it doesn&rsquo;t have to be added to every theory.
The rest of the changes are only likely to be a problem if
they accidentally introduce ambiguities.  These are usually easily
resolved.
</li></ul>

<p>Most of the other incompatibilities are more obvious, and the proofs are
easily repaired.  If you have difficulties understanding why a proof has
failed, or want help fixing it, send it to PVS bugs
<a href="mailto:pvs-bugs@csl.sri.com">pvs-bugs@csl.sri.com</a>.
</p><hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="#PVS-5_002e0-Release-Notes" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="pvs-release-notes_3.html#PVS-4_002e2-Release-Notes" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="pvs-release-notes.html#Top" title="Cover (top) of document">Top</a>]</td>
<td valign="middle" align="left">[<a href="pvs-release-notes_toc.html#SEC_Contents" title="Table of contents">Contents</a>]</td>
<td valign="middle" align="left">[Index]</td>
<td valign="middle" align="left">[<a href="pvs-release-notes_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<p>
 <font size="-1">
  This document was generated by <em>Sam Owre</em> on <em>January 14, 2013</em> using <a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>.
 </font>
 <br>

</p>
</body>
</html>
